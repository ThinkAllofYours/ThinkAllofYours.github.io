<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <title>Json Description Project | Now I'm doing what I love by </title>
    <meta name="description" content="Blog & Portfolio"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Now I'm doing what I love</h1>
      <h2 class="project-tagline">Blog & Portfolio</h2>
      <a href="https://thinkallofyours.github.io" class="btn">About</a>
      <a href="" class="btn">Software Craftmanship</a>
      <a href="" class="btn">Basic of Programming</a>
      <a href="" class="btn">Machine Learning</a>
      <a href="" class="btn">Tech</a>
    </section>

    <section class="main-content">
      <h2 id="finda-assignment--duhwans-submit">Finda Assignment &amp; DuHwan’s Submit</h2>

<h3 id="assignment">Assignment</h3>

<p>Using the language of your choice, write a function that takes as input a JSON string representing an array of objects, and returns a description of the data format.  Write one or more new test inputs.  Provide the function, the test inputs, and the corresponding test outputs.</p>

<h5 id="sample-input">SAMPLE INPUT</h5>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Douglas Crawford"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"salary"</span><span class="p">:</span><span class="w"> </span><span class="mi">80000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c/o Unstructured Programmers Anonymous"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7723 Western Avenue"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9123"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brian Kernighan"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"salary"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PO BOX 455"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Princeton"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NJ"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08544"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<h5 id="sample-output-you-choose-the-format--this-implementer-chose-to-use-typescripts-interface-format-augmenting-with-comments">SAMPLE OUTPUT (you choose the format.  This implementer chose to use TypeScript’s interface format, augmenting with comments.)</h5>

<div class="language-ts highlighter-rouge"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">inferredJSONFormat</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">salary</span><span class="err">:</span> <span class="kr">number</span><span class="p">,</span>
    <span class="nx">address</span><span class="err">:</span> <span class="nx">IAddress</span><span class="p">,</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">IAddress</span> <span class="p">{</span>
    <span class="nl">line1</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">line2</span><span class="p">?:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">city</span><span class="err">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">state</span><span class="err">:</span> <span class="kr">string</span><span class="p">,</span> <span class="c1">// 2 characters</span>
    <span class="nx">zip</span><span class="err">:</span> <span class="kr">string</span><span class="p">,</span> <span class="c1">// numeric, 5 digit, 0 padded on left</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h3 id="submit-an-assignment">Submit an assignment</h3>

<h4 id="json-description">Json Description</h4>

<blockquote>
  <p>Language : C#</p>

  <p>Framework :  Winform</p>

  <p>Base On : <a href="http://jsonclassgenerator.codeplex.com/"><code class="highlighter-rouge">JSON C# Class Generator</code></a></p>

  <p>Github Url : <a href="https://github.com/ThinkAllofYours/JsonDescription"><code class="highlighter-rouge">Json Description</code></a></p>

  <p>Download Link : <a href="https://drive.google.com/open?id=0B7U27fdP3tAEU3pNUGRiRjZoc00"><code class="highlighter-rouge">You can Download exe file (click this)</code></a></p>

  <p>Program Description : This application generates C# classes and Typescript Interfaces from a JSON text. You can see how the json format is formed.</p>
</blockquote>

<h4 id="screen-shot">Screen Shot</h4>
<ul>
  <li>Json Sample From <a href="http://json.org/example.html"><code class="highlighter-rouge">Json Example</code></a></li>
</ul>

<p><img src="/../images/Snapshot_01.png" alt="JSON SAMPLE 1" /></p>

<ul>
  <li>Input Json</li>
</ul>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"glossary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example glossary"</span><span class="p">,</span><span class="w">
		</span><span class="nt">"GlossDiv"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S"</span><span class="p">,</span><span class="w">
			</span><span class="nt">"GlossList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"GlossEntry"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGML"</span><span class="p">,</span><span class="w">
					</span><span class="nt">"SortAs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGML"</span><span class="p">,</span><span class="w">
					</span><span class="nt">"GlossTerm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard Generalized Markup Language"</span><span class="p">,</span><span class="w">
					</span><span class="nt">"Acronym"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SGML"</span><span class="p">,</span><span class="w">
					</span><span class="nt">"Abbrev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISO 8879:1986"</span><span class="p">,</span><span class="w">
					</span><span class="nt">"GlossDef"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"para"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A meta-markup language, used to create markup languages such as DocBook."</span><span class="p">,</span><span class="w">
						</span><span class="nt">"GlossSeeAlso"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GML"</span><span class="p">,</span><span class="w"> </span><span class="s2">"XML"</span><span class="p">]</span><span class="w">
                    </span><span class="p">},</span><span class="w">
					</span><span class="nt">"GlossSee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markup"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<ul>
  <li>Output CSharp Class Description</li>
</ul>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code>
<span class="k">namespace</span> <span class="nn">Finda</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">inferredJSONFormat</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">Glossary</span> <span class="n">glossary</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">public</span> <span class="k">class</span> <span class="nc">Glossary</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">GlossDiv</span> <span class="n">GlossDiv</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">public</span> <span class="k">class</span> <span class="nc">GlossDiv</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">title</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">GlossList</span> <span class="n">GlossList</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">public</span> <span class="k">class</span> <span class="nc">GlossList</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">GlossEntry</span> <span class="n">GlossEntry</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">public</span> <span class="k">class</span> <span class="nc">GlossEntry</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">ID</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">SortAs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">GlossTerm</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Acronym</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Abbrev</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">GlossDef</span> <span class="n">GlossDef</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">GlossSee</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">public</span> <span class="k">class</span> <span class="nc">GlossDef</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">para</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">GlossSeeAlso</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>


<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>If you check ‘Generate with data examples’ you can see Description with examples</li>
</ul>

<p><img src="/../images/Snapshot_02.png" alt="JSON SAMPLE 2" /></p>

<ul>
  <li>Input Json</li>
</ul>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"menu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"File"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"popup"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"menuitem"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w"> </span><span class="nt">"onclick"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CreateNewDoc()"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w"> </span><span class="nt">"onclick"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OpenDoc()"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Close"</span><span class="p">,</span><span class="w"> </span><span class="nt">"onclick"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CloseDoc()"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}}</span><span class="w">
</span></code></pre>
</div>

<ul>
  <li>Output Typescript</li>
</ul>

<div class="language-typescript highlighter-rouge"><pre class="highlight"><code>
<span class="kr">module</span> <span class="nx">Finda</span> <span class="p">{</span>

    <span class="kr">interface</span> <span class="nx">inferredJSONFormat</span> <span class="p">{</span>
        <span class="cm">/**
          // Examples: {"id":"file","value":"File","popup":{"menuitem":[{"value":"New","onclick":"CreateNewDoc()"},{"value":"Open","onclick":"OpenDoc()"},{"value":"Close","onclick":"CloseDoc()"}]}}
          */</span>
        <span class="nl">menu</span><span class="p">:</span> <span class="nx">Menu</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">interface</span> <span class="nx">Menu</span> <span class="p">{</span>
        <span class="cm">/**
          // Examples: "file"
          */</span>
        <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

        <span class="cm">/**
          // Examples: "File"
          */</span>
        <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

        <span class="cm">/**
          // Examples: {"menuitem":[{"value":"New","onclick":"CreateNewDoc()"},{"value":"Open","onclick":"OpenDoc()"},{"value":"Close","onclick":"CloseDoc()"}]}
          */</span>
        <span class="nl">popup</span><span class="p">:</span> <span class="nx">Popup</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kr">interface</span> <span class="nx">Popup</span> <span class="p">{</span>
        <span class="cm">/**
          // Examples: [{"value":"New","onclick":"CreateNewDoc()"},{"value":"Open","onclick":"OpenDoc()"},{"value":"Close","onclick":"CloseDoc()"}]
          */</span>
        <span class="nl">menuitem</span><span class="p">:</span> <span class="nx">Menuitem</span><span class="p">[];</span>
    <span class="p">}</span>

    <span class="kr">interface</span> <span class="nx">Menuitem</span> <span class="p">{</span>
        <span class="cm">/**
          // Examples: "New", "Open", "Close"
          */</span>
        <span class="nl">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

        <span class="cm">/**
          // Examples: "CreateNewDoc()", "OpenDoc()", "CloseDoc()"
          */</span>
        <span class="nl">onclick</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>You can select C # or Typescript as the data type to be description.</li>
</ul>

<p><img src="/../images/Snapshot_03.png" alt="JSON SAMPLE 3" />
<img src="/../images/Snapshot_04.png" alt="JSON SAMPLE 4" />
<img src="/../images/Snapshot_05.png" alt="JSON SAMPLE 5" /></p>

<h4 id="describe-files">Describe Files</h4>

<h5 id="main">Main</h5>

<ul>
  <li>윈도우 폼을 구성하거나 이벤트를 설정하는 파일</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">No.</th>
      <th style="text-align: left">Filename</th>
      <th style="text-align: left">Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">1</td>
      <td style="text-align: left">frmDescriptJson.cs</td>
      <td style="text-align: left">메인 C# Class - 각종 event 및 폼과 관련된 내용들이 코딩되어 있는 클래스</td>
    </tr>
    <tr>
      <td style="text-align: left">2</td>
      <td style="text-align: left">frmDescriptJson.Designer.cs</td>
      <td style="text-align: left">메인 C# Design Class - 폼의 디자인과 관련된 내용들이 기술되어 있는 클래스</td>
    </tr>
    <tr>
      <td style="text-align: left">3</td>
      <td style="text-align: left">Program.cs</td>
      <td style="text-align: left">프로그램 주 진입점이 어디인지 기술</td>
    </tr>
  </tbody>
</table>

<h5 id="library---jsonclassgeneratorlib">Library - JsonClassGeneratorLib</h5>
<ul>
  <li>JsonClassGeneratorLib는 <a href="http://www.newtonsoft.com/json"><code class="highlighter-rouge">Newtonsoft</code></a>의 라이브러리를 사용</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: left">No.</th>
      <th style="text-align: left">Filename</th>
      <th style="text-align: left">Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">4</td>
      <td style="text-align: left">IJsonClassGeneratorConfig.cs</td>
      <td style="text-align: left">JsonClassGenerator.cs 의 인터페이스. Json을 Class로 변환시키기 위한 각종 변수들이 선언</td>
    </tr>
    <tr>
      <td style="text-align: left">5</td>
      <td style="text-align: left">JsonClassGenerator.cs</td>
      <td style="text-align: left">입력된 Json Text를 Class형태로 전환하는 기능 및 관련 정보 저장</td>
    </tr>
    <tr>
      <td style="text-align: left">6</td>
      <td style="text-align: left">JsonTypeEnum.cs</td>
      <td style="text-align: left">Json이 가질 수 있는 Type을 열거 ex) String, Integer, Array 등</td>
    </tr>
    <tr>
      <td style="text-align: left">7</td>
      <td style="text-align: left">JsonType.cs</td>
      <td style="text-align: left">Json의 각 요소들이 어떤 타입으로 이루어져 있는지를 확인하고 JSON의 Object를 저장</td>
    </tr>
    <tr>
      <td style="text-align: left">8</td>
      <td style="text-align: left">ICodeWriter.cs</td>
      <td style="text-align: left">JsonClassGenerator를 통해 만들어진 정보를 C#, Typescript로 변환하기 위한 각정 변수들이 선언되어 있는 인터페이스</td>
    </tr>
    <tr>
      <td style="text-align: left">9</td>
      <td style="text-align: left">CSharpCodeWriterToText.cs</td>
      <td style="text-align: left">ICodeWriter를 구현 JsonClassGenerator를 통해 만들어진 정보를 C# Class 형태로 변환하여 변환된 정보를 String값으로 반환</td>
    </tr>
    <tr>
      <td style="text-align: left">10</td>
      <td style="text-align: left">TypescriptCodeWriterToText.cs</td>
      <td style="text-align: left">ICodeWriter를 구현 JsonClassGenerator를 통해 만들어진 정보를 Typescript Interface 형태로 변환하여 변환된 정보를 String 값으로 반환</td>
    </tr>
    <tr>
      <td style="text-align: left">11</td>
      <td style="text-align: left">GeneratorDescription.cs</td>
      <td style="text-align: left">Class형태로 전환된 정보를 TypescriptCodeWriterToText.cs, CSharpCodeWriterToText.cs를 활용하여 String 값으로 변환</td>
    </tr>
  </tbody>
</table>

<h4 id="describe-code">Describe Code</h4>

<h5 id="buttonevent---frmdescriptjsoncs">ButtonEvent - frmDescriptJson.cs</h5>
<ul>
  <li>프로그램을 실행하면 나오는 Form에서 Start Generate 버튼을 클릭하면 발생하는 이벤트
    <div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">btnGenerator_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//Json이 C#이나 Typescript로 생성되기 전까지 마우스 커서를 진행중으로 변경
</span>  <span class="n">Cursor</span><span class="p">.</span><span class="n">Current</span> <span class="p">=</span> <span class="n">Cursors</span><span class="p">.</span><span class="n">WaitCursor</span><span class="p">;</span>

  <span class="c1">//Prepare에서 Json을 Class로 변환하는데 사용되는 정보들을 설정
</span>  <span class="kt">var</span> <span class="n">gen</span> <span class="p">=</span> <span class="nf">Prepare</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">gen</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

  <span class="k">try</span>
  <span class="p">{</span>
      <span class="c1">//입력된 Json Text를 5. JsonClassGenerator.cs의 GenerateClasses()를 이용하여
</span>      <span class="c1">//C#, Typescript로 변환할 수 있는 정보를 저장
</span>      <span class="n">gen</span><span class="p">.</span><span class="nf">GenerateClasses</span><span class="p">();</span>

      <span class="c1">//위에서 변환한 정보를 10. GeneratorDescription.cs로 전달하고 C#이나 Typescript의 Text파일로 변환
</span>      <span class="c1">//변환한 정보를 Text박스에 Insert
</span>      <span class="n">edtJsonDescription</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="nf">GenerateDescription</span><span class="p">(</span><span class="n">gen</span><span class="p">).</span><span class="nf">ToString</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">Cursor</span><span class="p">.</span><span class="n">Current</span> <span class="p">=</span> <span class="n">Cursors</span><span class="p">.</span><span class="n">Default</span><span class="p">;</span>
      <span class="n">MessageBox</span><span class="p">.</span><span class="nf">Show</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="s">"Unable to generate the code: "</span> <span class="p">+</span> <span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MessageBoxIcon</span><span class="p">.</span><span class="n">Error</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Cursor</span><span class="p">.</span><span class="n">Current</span> <span class="p">=</span> <span class="n">Cursors</span><span class="p">.</span><span class="n">Default</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
    </div>
  </li>
</ul>

<h5 id="generatedescription-method---frmdescriptjsoncs">GenerateDescription Method - frmDescriptJson.cs</h5>

<ul>
  <li>JsonClassGenerator.cs의 GenerateClass Method에 의해 생성된 정보를 활용하여 C#, Typescript의 Description으로 변환
    <div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">private</span> <span class="n">StringBuilder</span> <span class="nf">GenerateDescription</span><span class="p">(</span><span class="n">JsonClassGenerator</span> <span class="n">generator</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">GenerateDescription</span> <span class="n">_jsonDescriptionGenerator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GenerateDescription</span><span class="p">();</span>

  <span class="c1">//JsonClassGenerator.cs에 의해 생성된 각종 정보를 GenerateDescription으로 전달
</span>  <span class="nf">cloneGenerator</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">_jsonDescriptionGenerator</span><span class="p">);</span>

  <span class="c1">//사용자가 선택한 Description Type에 따라 관련된 Type의 Class생성
</span>  <span class="kt">string</span> <span class="n">codeWriterName</span> <span class="p">=</span> <span class="n">_jsonDescriptionGenerator</span><span class="p">.</span><span class="n">CodeWriter</span><span class="p">.</span><span class="n">DisplayName</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">codeWriterName</span> <span class="p">==</span> <span class="s">"C#"</span><span class="p">)</span> <span class="n">_jsonDescriptionGenerator</span><span class="p">.</span><span class="n">CodeWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CSharpCodeWriterToText</span><span class="p">();</span>
  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">codeWriterName</span> <span class="p">==</span> <span class="s">"TypeScript"</span><span class="p">)</span> <span class="n">_jsonDescriptionGenerator</span><span class="p">.</span><span class="n">CodeWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TypeScriptCodeWriterToText</span><span class="p">();</span>

  <span class="c1">//메소드가 반환할 StringBuilder 생성
</span>  <span class="n">StringBuilder</span> <span class="n">_sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
  <span class="c1">//GeneratorDescription.cs의 WriteDescriptionToStringBuilder Method를 통해 각종 정보를 Text파일로 전환
</span>  <span class="n">_jsonDescriptionGenerator</span><span class="p">.</span><span class="nf">WriteDescriptionToStringBuilder</span><span class="p">(</span><span class="n">_sb</span><span class="p">,</span> <span class="n">_jsonDescriptionGenerator</span><span class="p">.</span><span class="n">Types</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">_sb</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
    </div>
  </li>
</ul>

<h5 id="writedescriptiontostringbuilder---generatordescriptioncs">WriteDescriptionToStringBuilder - GeneratorDescription.cs</h5>

<ul>
  <li>전달받은 해쉬 형태의 Type들을 활용해 StringBuilder에 관련 정보 저장
    <div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">public</span> <span class="k">void</span> <span class="nf">WriteDescriptionToStringBuilder</span><span class="p">(</span><span class="n">StringBuilder</span> <span class="n">sb</span><span class="p">,</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">JsonType</span><span class="p">&gt;</span> <span class="n">types</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">inNamespace</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">rootNamespace</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

  <span class="c1">//Description의 시작 - Nested Class를 사용할 때 동작(클래스 안에서 클래스를 정의할 떄)
</span>  <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteFileStart</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">);</span>

  <span class="c1">//IEnumerable&lt;JsonType&gt; types의 정보들을 활용해 Class로 변환
</span>  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">types</span><span class="p">.</span><span class="nf">Count</span><span class="p">()-</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">--)</span>
  <span class="p">{</span>
      <span class="kt">var</span> <span class="n">type</span> <span class="p">=</span> <span class="n">types</span><span class="p">.</span><span class="nf">ElementAt</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>

      <span class="c1">// NameSpace를 이용할 떄 Description 정보의 시작을 표시
</span>      <span class="k">if</span> <span class="p">(</span><span class="n">UseNamespaces</span> <span class="p">&amp;&amp;</span> <span class="n">inNamespace</span> <span class="p">&amp;&amp;</span> <span class="n">rootNamespace</span> <span class="p">!=</span> <span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span> <span class="p">&amp;&amp;</span> <span class="n">SecondaryNamespace</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span> <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteNamespaceEnd</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">rootNamespace</span><span class="p">);</span> <span class="n">inNamespace</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">UseNamespaces</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">inNamespace</span><span class="p">)</span> <span class="p">{</span> <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteNamespaceStart</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span><span class="p">);</span> <span class="n">inNamespace</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span> <span class="n">rootNamespace</span> <span class="p">=</span> <span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span><span class="p">;</span> <span class="p">}</span>

      <span class="c1">//type에 저장된 정보들을 토대로 Class를 생성
</span>      <span class="c1">//type는 입력된 Json Text의 Object에 맞게 정의되어 있음.
</span>      <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteClass</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">type</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">// NameSpace를 이용할 때 Desciprtion 의 끝을 표시
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">UseNamespaces</span> <span class="p">&amp;&amp;</span> <span class="n">inNamespace</span><span class="p">)</span> <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteNamespaceEnd</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">rootNamespace</span><span class="p">);</span>

  <span class="c1">//Description파일의 끝 - Nested Class를 사용할 때 동작(클래스 안에서 클래스를 정의할 떄)
</span>  <span class="n">CodeWriter</span><span class="p">.</span><span class="nf">WriteFileEnd</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">sb</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
    </div>
  </li>
</ul>

<h5 id="writeclass---csharpcodewritertotextcs">WriteClass - CSharpCodeWriterToText.cs</h5>

<ul>
  <li>전달받은 Type을 활용해 Class형태의 Text파일로 변환
    <div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">public</span> <span class="k">void</span> <span class="nf">WriteClass</span><span class="p">(</span><span class="n">IJsonClassGeneratorConfig</span> <span class="n">config</span><span class="p">,</span> <span class="n">StringBuilder</span> <span class="n">sb</span><span class="p">,</span> <span class="n">JsonType</span> <span class="n">type</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//설정한 정보에 따라 internal과 public중 하나를 선택
</span>  <span class="kt">var</span> <span class="n">visibility</span> <span class="p">=</span> <span class="n">config</span><span class="p">.</span><span class="n">InternalVisibility</span> <span class="p">?</span> <span class="s">"internal"</span> <span class="p">:</span> <span class="s">"public"</span><span class="p">;</span>
  <span class="c1">//Nested Class를 사용할 때 동작
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">UseNestedClasses</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="k">if</span> <span class="p">(!</span><span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nf">ShouldApplyNoRenamingAttribute</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"        "</span> <span class="p">+</span> <span class="n">NoRenameAttribute</span><span class="p">);</span>
          <span class="k">if</span> <span class="p">(</span><span class="nf">ShouldApplyNoPruneAttribute</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"        "</span> <span class="p">+</span> <span class="n">NoPruneAttribute</span><span class="p">);</span>
          <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"        {0} class {1}"</span><span class="p">,</span> <span class="n">visibility</span><span class="p">,</span> <span class="n">type</span><span class="p">.</span><span class="n">AssignedName</span><span class="p">))</span>
            <span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"        {"</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="c1">//클래스의 시작을 표시
</span>  <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nf">ShouldApplyNoRenamingAttribute</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"    "</span> <span class="p">+</span> <span class="n">NoRenameAttribute</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nf">ShouldApplyNoPruneAttribute</span><span class="p">(</span><span class="n">config</span><span class="p">))</span> <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"    "</span> <span class="p">+</span> <span class="n">NoPruneAttribute</span><span class="p">);</span>
      <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"    {0} class {1}"</span><span class="p">,</span> <span class="n">visibility</span><span class="p">,</span> <span class="n">type</span><span class="p">.</span><span class="n">AssignedName</span><span class="p">))</span>
        <span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"    {"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">//prefix의 size를 결정
</span>  <span class="kt">var</span> <span class="n">prefix</span> <span class="p">=</span> <span class="n">config</span><span class="p">.</span><span class="n">UseNestedClasses</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span> <span class="p">?</span> <span class="s">"            "</span> <span class="p">:</span> <span class="s">"        "</span><span class="p">;</span>

  <span class="c1">//type에 저장된 Class Members의 정보를 Stringbuilder에 Class Member형태로 저장
</span>  <span class="nf">WriteClassMembers</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">sb</span><span class="p">,</span> <span class="n">type</span><span class="p">,</span> <span class="n">prefix</span><span class="p">);</span>

  <span class="c1">//Nested Class를 사용할 때 동작
</span>  <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">UseNestedClasses</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">type</span><span class="p">.</span><span class="n">IsRoot</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"        }"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">//일반적으로 class의 끝을 표시
</span>  <span class="k">if</span> <span class="p">(!</span><span class="n">config</span><span class="p">.</span><span class="n">UseNestedClasses</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">"    }"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
    </div>
  </li>
</ul>

<h5 id="writeclassmembers---csharpcodewritertotextcs">WriteClassMembers - CSharpCodeWriterToText.cs</h5>

<ul>
  <li>전달받은 Type의 filed들을 Class의 Member로 변환 후 StringBuilder에 저장
    <div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">WriteClassMembers</span><span class="p">(</span><span class="n">IJsonClassGeneratorConfig</span> <span class="n">config</span><span class="p">,</span> <span class="n">StringBuilder</span> <span class="n">sb</span><span class="p">,</span> <span class="n">JsonType</span> <span class="n">type</span><span class="p">,</span> <span class="kt">string</span> <span class="n">prefix</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">cnt</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">field</span> <span class="k">in</span> <span class="n">type</span><span class="p">.</span><span class="n">Fields</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="c1">//Examples를 표시하기를 원했을 때 동작
</span>      <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">ExamplesInDocumentation</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="n">prefix</span> <span class="p">+</span> <span class="s">"/// &lt;summary&gt;"</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="n">prefix</span> <span class="p">+</span> <span class="s">"/// Examples: "</span> <span class="p">+</span> <span class="n">field</span><span class="p">.</span><span class="nf">GetExamplesText</span><span class="p">())</span>
            <span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="n">prefix</span> <span class="p">+</span> <span class="s">"/// &lt;/summary&gt;"</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="c1">//저장된 정보를 Class의 Member형식으로 저장
</span>      <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="n">prefix</span> <span class="p">+</span> <span class="s">"public "</span> <span class="p">+</span> <span class="n">field</span><span class="p">.</span><span class="n">Type</span><span class="p">.</span><span class="nf">GetTypeName</span><span class="p">()</span> <span class="p">+</span> <span class="n">field</span><span class="p">.</span><span class="n">MemberName</span> <span class="p">+</span> <span class="s">"get; set;"</span> <span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">ExamplesInDocumentation</span> <span class="p">&amp;&amp;</span> <span class="n">type</span><span class="p">.</span><span class="n">Fields</span><span class="p">.</span><span class="n">Count</span> <span class="p">!=</span> <span class="n">cnt</span><span class="p">++)</span> <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    </div>
  </li>
</ul>


      <footer class="site-footer">
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
  </body>
</html>
