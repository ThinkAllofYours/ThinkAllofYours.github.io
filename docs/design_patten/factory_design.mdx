---
slug: factory-design-pattern
title: ğŸ­ íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´
authors: [bundabergman]
tags: [design-pattern, creational]
---
# íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ ì´í•´í•˜ê¸°

## 1. íŒ¨í„´ ê°œìš”

íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´(Factory Method Pattern)ì€ **ê°ì²´ ìƒì„± ì½”ë“œì˜ ì¤‘ë³µê³¼ ì˜ì¡´ì„±ì„ ì¤„ì´ê³ , ì½”ë“œì˜ í™•ì¥ì„±ì„ ë†’ì´ê¸° ìœ„í•´** ì‚¬ìš©ë˜ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ” ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë”°ë¥´ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ í•´ë‹¹ í´ë˜ìŠ¤ë“¤ì˜ êµ¬ì²´ì ì¸ êµ¬í˜„ ë‚´ìš©ì„ ì•Œ í•„ìš” ì—†ì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

## 2. ë¬¸ì œ ìƒí™© ì˜ˆì‹œ

### ê¸°ë³¸ì ì¸ ì½”ë“œ êµ¬ì¡°

```python
class Truck:
    def deliver(self):
        return "íŠ¸ëŸ­ì„ íƒ€ê³  ìš´ë°˜í•œë‹¤"

class Ship:
    def deliver(self):
        return "ë°°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"

# ìš´ì†¡ ìˆ˜ë‹¨ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
def get_transport(transport_type):
    if transport_type == TransportType.TRUCK:
        return Truck()
    elif transport_type == TransportType.SHIP:
        return Ship()

# ì‚¬ìš© ì˜ˆì‹œ
transport1 = get_transport(TransportType.TRUCK)
print(transport1.deliver())  # "íŠ¸ëŸ­ì„ íƒ€ê³  ìš´ë°˜í•œë‹¤"

transport2 = get_transport(TransportType.SHIP)
print(transport2.deliver())  # "ë°°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"
```

### TransportType Enum ì¶”ê°€

íŒŒë¼ë¯¸í„° ì…ë ¥ì„ ì•ˆì „í•˜ê²Œ í•˜ê¸° ìœ„í•´ ë¬¸ìì—´ ëŒ€ì‹  Enumì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
```python
from enum import Enum

class TransportType(Enum):
    TRUCK = "truck"
    SHIP = "ship"
    AIRPLANE = "airplane"
```

### ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ ì¶”ê°€

ë§Œì•½ ìƒˆë¡œìš´ ìš´ì†¡ ìˆ˜ë‹¨ì¸ **ë¹„í–‰ê¸°**ë¥¼ ì¶”ê°€í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.

```python
class Airplane:
    def deliver(self):
        return "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"
```

`get_transport` í•¨ìˆ˜ì— ë¹„í–‰ê¸° íƒ€ì…ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
```python
# íŒ©í† ë¦¬ ë©”ì„œë“œì— ìƒˆ íƒ€ì… ì¶”ê°€
if transport_type == TransportType.AIRPLANE:
    return Airplane()
```

## 3. íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ ë„ì…

íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê°ì²´ ìƒì„± ë¡œì§ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ ë˜ëŠ” ë©”ì„œë“œë¡œ ë¶„ë¦¬í•˜ì—¬ í™•ì¥ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê¸°ë³¸ êµ¬ì¡°

1. **`Transport` ì¸í„°í˜ì´ìŠ¤(ì¶”ìƒ í´ë˜ìŠ¤)**: ëª¨ë“  ìš´ì†¡ ìˆ˜ë‹¨ í´ë˜ìŠ¤ê°€ ê³µí†µì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•  ë©”ì„œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
2. **êµ¬ì²´ì ì¸ ìš´ì†¡ í´ë˜ìŠ¤(Truck, Ship, Airplane ë“±)**: `Transport`ë¥¼ ìƒì†ë°›ì•„ `deliver()` ë©”ì„œë“œë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
3. **íŒ©í† ë¦¬ í´ë˜ìŠ¤**: ê°ì²´ ìƒì„± ì±…ì„ì„ ë‹´ë‹¹í•˜ì—¬, íŠ¹ì • ìš´ì†¡ ìˆ˜ë‹¨ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

### ì½”ë“œ êµ¬í˜„ ì˜ˆì‹œ

```python
# ì¶”ìƒ í´ë˜ìŠ¤ (ê¸°ë³¸ êµ¬ì¡° ì •ì˜)
class Transport:
    def deliver(self):
        raise NotImplementedError("deliver ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.")

# ê° ìš´ì†¡ ìˆ˜ë‹¨ í´ë˜ìŠ¤
class Truck(Transport):
    def deliver(self):
        return "íŠ¸ëŸ­ì„ íƒ€ê³  ìš´ë°˜í•œë‹¤"

class Ship(Transport):
    def deliver(self):
        return "ë°°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"

class Airplane(Transport):
    def deliver(self):
        return "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"

# íŒ©í† ë¦¬ í´ë˜ìŠ¤
class TransportFactory:
    def create_transport(self, transport_type: TransportType):
        if transport_type == TransportType.TRUCK:
            return Truck()
        elif transport_type == TransportType.SHIP:
            return Ship()
        elif transport_type == TransportType.AIRPLANE:
            return Airplane()
        else:
            raise ValueError(f"ì•Œ ìˆ˜ ì—†ëŠ” ìš´ì†¡ ìˆ˜ë‹¨: {transport_type}")

# ì‚¬ìš© ì˜ˆì‹œ
factory = TransportFactory()

transport1 = factory.create_transport(TransportType.TRUCK)
print(transport1.deliver())  # "íŠ¸ëŸ­ì„ íƒ€ê³  ìš´ë°˜í•œë‹¤"

transport2 = factory.create_transport(TransportType.AIRPLANE)
print(transport2.deliver())  # "ë¹„í–‰ê¸°ë¥¼ íƒ€ê³  ìš´ë°˜í•œë‹¤"
```

## 4. íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì˜ ì¥ì 

1. **ìœ ì—°ì„± ì¦ê°€**: ìƒˆë¡œìš´ ìš´ì†¡ ìˆ˜ë‹¨ì„ ì¶”ê°€í•  ë•Œ `TransportType`ì—ë§Œ ìƒˆë¡œìš´ íƒ€ì…ì„ ì •ì˜í•˜ë©´ ë©ë‹ˆë‹¤.
2. **ì½”ë“œ ì¤‘ë³µ ê°ì†Œ**: ê°ì²´ ìƒì„± ì½”ë“œê°€ í•œ ê³³ì— ëª¨ì—¬ ìˆì–´ ì¤‘ë³µì„ ì¤„ì´ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•©ë‹ˆë‹¤.
3. **í™•ì¥ì„± í–¥ìƒ**: í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ í†µí•´ ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **SOLID ì›ì¹™ ì¤€ìˆ˜**: ê°œë°©-íì‡„ ì›ì¹™(OCP)ê³¼ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ì„ ë§Œì¡±í•©ë‹ˆë‹¤.

## 5. ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œ (ë§¤í•‘ í…Œì´ë¸” í™œìš©)

ì¡°ê±´ë¬¸ ëŒ€ì‹  ë§¤í•‘ í…Œì´ë¸”ì„ í™œìš©í•˜ì—¬ ê°ì²´ ìƒì„±ì„ ë”ìš± ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```python
# íŒ©í† ë¦¬ í´ë˜ìŠ¤ ê°œì„ 
class TransportFactory:
    transport_classes = {
        TransportType.TRUCK: Truck,
        TransportType.SHIP: Ship,
        TransportType.AIRPLANE: Airplane
    }

    def create_transport(self, transport_type: TransportType):
        transport_class = self.transport_classes.get(transport_type)
        if transport_class is None:
            raise ValueError(f"ì•Œ ìˆ˜ ì—†ëŠ” ìš´ì†¡ ìˆ˜ë‹¨: {transport_type}")
        return transport_class()

# ì‚¬ìš© ì˜ˆì‹œ
factory = TransportFactory()
transport = factory.create_transport(TransportType.TRUCK)
print(transport.deliver())  # "íŠ¸ëŸ­ì„ íƒ€ê³  ìš´ë°˜í•œë‹¤"
```

## 6. íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì˜ ì‹¤ì œ ì‚¬ìš© ì˜ˆ

- **ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€**: ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ ì„ íƒí•˜ì—¬ ì ì ˆí•œ ì»¤ë„¥ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

```python
from enum import Enum, auto

class DBType(Enum):
    MYSQL = "mysql"
    POSTGRES = "postgres"

class DBConnection:
    def connect(self):
        pass

class MySQLConnection(DBConnection):
    def connect(self):
        return "MySQL ì—°ê²° ìƒì„±"

class PostgresConnection(DBConnection):
    def connect(self):
        return "Postgres ì—°ê²° ìƒì„±"

class DBConnectionFactory:
    connection_classes = {
        DBType.MYSQL: MySQLConnection,
        DBType.POSTGRES: PostgresConnection
    }

    def create_connection(self, db_type: DBType):
        connection_class = self.connection_classes.get(db_type)
        if connection_class is None:
            raise ValueError(f"ì•Œ ìˆ˜ ì—†ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìœ í˜•: {db_type}")
        return connection_class()

# ì‚¬ìš© ì˜ˆì‹œ
factory = DBConnectionFactory()
connection = factory.create_connection(DBType.MYSQL)
print(connection.connect())  # "MySQL ì—°ê²° ìƒì„±"
```

## 7. ê²°ë¡ 

íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì€ ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì´ê³ , ê°ì²´ ìƒì„±ì— ëŒ€í•œ ì±…ì„ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ë³µì¡í•œ ì‹œìŠ¤í…œì„ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤. íŠ¹íˆ ë‹¤ì–‘í•œ í´ë˜ìŠ¤ê°€ ê³µí†µ ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©°, ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„±ì„ ë™ì‹œì— ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

